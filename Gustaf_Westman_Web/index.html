<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects - Gustaf Westman</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    >

    <!-- Iconos -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

    <!-- Lenis CSS -->
    <link rel="stylesheet" href="https://unpkg.com/lenis@1.3.15/dist/lenis.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css-paula/index.css" />

    <!-- ESTILOS PARA LA ANIMACIÓN DE SCROLL (productos) -->
    <style>
        /* Estado inicial: oculto y ligeramente desplazado hacia abajo */
        .product {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        /* Cuando entra en el viewport */
        .product.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>

    <!-- ESTILOS HERO + PROYECTOS -->
    <style>
    /* ===== CSS DEL PEN ADAPTADO ===== */
    html, body {
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Plus Jakarta Sans", sans-serif;
      background: #fff;
      overflow-x: hidden; /* antes: overflow: hidden; ahora sí dejamos hacer scroll */
    }

    .Hero {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 65vh;
      padding: 4rem 1.5rem 5rem;
    }

    .Hero .container {
      text-align: center;
    }

    .heading-xl {
      font-size: clamp(2.5rem, 8vw, 4.5rem);
      font-weight: 600;
      line-height: 1.0;
      letter-spacing: -0.04em;
      margin-bottom: .75rem;
    }

    .Hero__subtitle {
      font-size: .95rem;
      color: #777;
      max-width: 420px;
      margin: 0 auto;
    }

    .Hero__image {
      position: fixed;
      opacity: 0;
      width: 120px;
      aspect-ratio: 1/1;
      object-fit: cover;
      pointer-events: none; /* para que no “bloquee” el cursor */
      border-radius: 32px;
      box-shadow: 0 16px 40px rgba(0,0,0,.18);
      z-index: 5;
    }

    .Hero__text {
      text-align: center;
    }

    /* NAV DE PROYECTOS (FIJA ARRIBA) */
    .projects-nav {
      position: sticky;      /* se queda pegada arriba al hacer scroll */
      top: 0;
      z-index: 20;
      background: rgba(255,255,255,0.92);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(0,0,0,0.04);
    }

    .projects-nav__inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0.75rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .projects-nav__link {
      padding: 0.4rem 1.1rem;
      border-radius: 999px;
      font-size: 0.85rem;
      border: 1px solid rgba(0,0,0,0.06);
      background: #fff;
      text-decoration: none;
      color: #444;
      transition: background .2s ease, transform .15s ease, box-shadow .2s ease;
    }

    .projects-nav__link:hover {
      background: #f5f0ff;
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    }

    /* SECCIONES DE PROYECTO */
    .projects-wrapper {
      max-width: 1100px;
      margin: 0 auto 5rem;
      padding: 3rem 1.5rem 5rem;
      display: flex;
      flex-direction: column;
      gap: 4.5rem;
    }

    .project-section {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 2.5rem;
      align-items: center;
    }

    .project-section:nth-child(even) {
      grid-template-columns: minmax(0, 1fr) minmax(0, 1.2fr);
    }

    @media (max-width: 900px) {
      .project-section,
      .project-section:nth-child(even) {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .project-card {
      background: #fff;
      border-radius: 32px;
      padding: 2.2rem 2rem;
      box-shadow: 0 18px 40px rgba(0,0,0,0.06);
      position: relative;
      overflow: hidden;
    }

    .project-label {
      font-size: .75rem;
      text-transform: uppercase;
      letter-spacing: .16em;
      color: #999;
      margin-bottom: .65rem;
    }

    .project-title {
      font-size: 2rem;
      margin: 0 0 .6rem;
      letter-spacing: -0.03em;
    }

    .project-desc {
      font-size: .98rem;
      color: #666;
      line-height: 1.6;
      max-width: 34rem;
    }

    .project-link {
      display: inline-flex;
      align-items: center;
      gap: .4rem;
      margin-top: 1.1rem;
      font-size: .9rem;
      text-decoration: none;
      color: #222;
      padding: .55rem 1.1rem;
      border-radius: 999px;
      background: rgba(0,0,0,0.03);
      transition: background .2s ease, transform .15s ease;
    }

    .project-link span {
      font-size: 1.1rem;
      transform: translateY(1px);
    }

    .project-link:hover {
      background: rgba(0,0,0,0.07);
      transform: translateY(-1px);
    }

    .project-image {
      border-radius: 40px;
      min-height: 260px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.09);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: relative;
      overflow: hidden;
    }

    .project-image::after {
      content: "";
      position: absolute;
      inset: 10%;
      border-radius: 40px;
      border: 1px solid rgba(255,255,255,0.65);
      mix-blend-mode: lighten;
      pointer-events: none;
    }

    .project-image--vingarden {
      background-image: radial-gradient(circle at 0% 0%, #fdfaf2 0, #e5f4e8 40%, #c9e7d3 100%);
    }

    .project-image--frozen {
      background-image: radial-gradient(circle at 0% 0%, #f8fbff 0, #e8f1ff 40%, #c7d7ff 100%);
    }

    .project-image--mb {
      background-image: radial-gradient(circle at 0% 0%, #fff6fa 0, #ffeef3 40%, #ffc9dd 100%);
    }

    .project-tag {
      position: absolute;
      bottom: 20px;
      left: 20px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.88);
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #777;
    }
  </style>
</head>

<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header__logo">
            <img src="imgs-paula/icon_web.gif" alt="Gustaf Westman logo">
        </div>

        <nav class="header__nav">
            <a href="index.html">Projects</a>
            <a href="shop.html">Shop</a>
            <a href="about.html">About</a>
        </nav>

        <div class="header__cart">
            <a href="#cart" class="js-open-cart">
                <img src="imgs-paula/carrito de compra.png" alt="Carrito">
                <span id="cart-count" class="cart-count">0</span>
            </a>
        </div>
    </header>

    <!-- ===== HERO CON TRAIL ===== -->
    <section class="Hero">
      <div class="container">
        <h1 class="Hero__text heading-xl">Gustaf Westman Projects</h1>

        <div class="Hero__images">
          <img class="Hero__image" src="imgs-paula/projects-1.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-10.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-11.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-2.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-12.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-3.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-14.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-5.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-13.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-9.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-7.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-6.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-8.jpg" alt="" />
          <img class="Hero__image" src="imgs-paula/projects-4.jpg" alt="" />
        </div>
      </div>
    </section>

    <!-- NAV FIJA PARA LAS 3 SECCIONES -->
    <nav class="projects-nav">
      <div class="projects-nav__inner">
        <a href="#vingarden" class="projects-nav__link">Vingården</a>
        <a href="#frozen-objects" class="projects-nav__link">Frozen Objects</a>
        <a href="#mb" class="projects-nav__link">Mercedes Benz</a>
      </div>
    </nav>

    <!-- SECCIONES DE PROYECTOS -->
    <section class="projects-wrapper">
      <!-- Vingården -->
      <section id="vingarden" class="project-section">
        <article class="project-card">
          <div class="project-label">Proyecto</div>
          <h2 class="project-title">Vingården</h2>
          <p class="project-desc">
            Una interpretación suave y orgánica de un espacio dedicado al vino.
            Curvas generosas, colores calmados y volúmenes casi escultóricos,
            en línea con la estética amable de Gustaf Westman.
          </p>
          <a class="project-link" href="https://www.gustafwestman.com/vingarden" target="_blank" rel="noreferrer">
            Ver proyecto original <span>↗</span>
          </a>
        </article>
        <div class="project-image project-image--vingarden">
          <div class="project-tag">Vingården</div>
        </div>
      </section>

      <!-- Frozen Objects -->
      <section id="frozen-objects" class="project-section">
        <div class="project-image project-image--frozen">
          <div class="project-tag">Frozen Objects</div>
        </div>
        <article class="project-card">
          <div class="project-label">Colección</div>
          <h2 class="project-title">Frozen Objects</h2>
          <p class="project-desc">
            Piezas que parecen quedar suspendidas en el tiempo, como si estuvieran
            atrapadas en hielo. Superficies suaves, volúmenes redondeados y una
            paleta fría pero acogedora.
          </p>
          <a class="project-link" href="https://www.gustafwestman.com/frozen-objects" target="_blank" rel="noreferrer">
            Ver proyecto original <span>↗</span>
          </a>
        </article>
      </section>

      <!-- MB -->
      <section id="mb" class="project-section">
        <article class="project-card">
          <div class="project-label">Colaboración</div>
          <h2 class="project-title">Mercedes Benz</h2>
          <p class="project-desc">
            Una colaboración que mezcla funcionalidad y juego. Líneas sencillas,
            esquinas redondeadas y una atmósfera cálida que encaja con el lenguaje
            lúdico y optimista del diseñador.
          </p>
          <a class="project-link" href="https://www.gustafwestman.com/mb" target="_blank" rel="noreferrer">
            Ver proyecto original <span>↗</span>
          </a>
        </article>
        <div class="project-image project-image--mb">
          <div class="project-tag">Mercedes Benz</div>
        </div>
      </section>
    </section>

    <!-- GSAP PARA EL TRAIL -->
    <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>

    <script>
      function playAnimation(img) {
        let tl = gsap.timeline();

        tl.from(
          img,
          {
            scale: 0.8,
            duration: 2
          },
          "<"
        ).to(
          img,
          {
            y: "120vh",
            rotation: "random([360, -360])",
            ease: "back.in(.4)",
            duration: 1,
            filter: "blur(5px)"
          },
          0
        );
      }

      /* --------------------------------
         Código del efecto de rastro
         ------------------------------------*/
      let images = gsap.utils.toArray(".Hero__image");
      let gap = 200; // distancia mínima que tiene que recorrer el ratón para mostrar otra imagen
      let index = 0;
      let wrapper = gsap.utils.wrap(0, images.length);
      gsap.defaults({ duration: 1 });

      let mousePos = { x: 0, y: 0 };
      let lastMousePos = { x: 0, y: 0 };
      let cachedMousePos = { x: 0, y: 0 };

      window.addEventListener("mousemove", (e) => {
        mousePos = {
          x: e.clientX,
          y: e.clientY
        };
      });

      gsap.ticker.add(ImageTrail);

      function ImageTrail() {
        let travelDistance = Math.hypot(
          lastMousePos.x - mousePos.x,
          lastMousePos.y - mousePos.y
        );

        cachedMousePos.x = gsap.utils.interpolate(
          cachedMousePos.x || mousePos.x,
          mousePos.x,
          0.1
        );
        cachedMousePos.y = gsap.utils.interpolate(
          cachedMousePos.y || mousePos.y,
          mousePos.y,
          0.1
        );

        if (travelDistance > gap) {
          animateImage();
          lastMousePos = { ...mousePos };
        }
      }

      function animateImage() {
        let wrappedIndex = wrapper(index);

        let img = images[wrappedIndex];
        gsap.killTweensOf(img);

        gsap.set(img, {
          clearProps: "all"
        });

        gsap.set(img, {
          opacity: 1,
          left: mousePos.x,
          top: mousePos.y,
          xPercent: -50,
          yPercent: -50
        });

        playAnimation(img);

        index++;
      }
    </script>

    <!-- CARRITO (copiado desde shop.html) -->
    <section id="cart" class="cart container my-5">
      <div class="cart-header">
          <h2>Tu carrito</h2>
          <button type="button" class="btn-close" aria-label="Close"></button>
      </div>

      <div id="cart-empty" class="text-muted">Tu carrito está vacío.</div>

      <div id="cart-items"></div>

      <div class="cart-summary mt-3 d-flex justify-content-between align-items-center">
          <span class="fw-bold">Total:</span>
          <span id="cart-total" class="fw-bold">0,00 €</span>
      </div>

      <button id="go-to-checkout" class="btn btn-dark mt-3" disabled>
          Ir al pago
      </button>
    </section>

    <!-- FOOTER COMPLETO -->
    <footer class="footer">
        <div class="footer__inner">
            <!-- Columna 1: Marca -->
            <div class="footer__brand">
                <img src="imgs-paula/icon_web.gif" alt="Logo Gustaf Westman">
                <p class="footer__brand-name">Gustaf Westman Studio</p>
                <p class="footer__brand-text">
                    Mugs, chunky glasses, mirrors & playful furniture.
                </p>
            </div>

            <!-- Columna 2: Navegación del sitio -->
            <div class="footer__column">
                <h4 class="footer__title">Explore</h4>
                <ul class="footer__list">
                    <li><a href="index.html">Proyects</a></li>
                    <li><a href="shop.html">Shop</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </div>

            <!-- Columna 3: Contacto -->
            <div class="footer__column">
                <h4 class="footer__title">Contact</h4>
                <ul class="footer__list">
                    <li><a href="mailto:hello@gustafwestman.com">hello@gustafwestman.com</a></li>
                    <li>Stockholm, Sweden</li>
                    <li><a href="#contact">Customer Service</a></li>
                </ul>

                <h4 class="footer__title footer__title--margin">Follow</h4>
                <ul class="footer__list footer__social">
                    <li><a href="#" target="_blank" rel="noopener noreferrer">Instagram</a></li>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">Pinterest</a></li>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">TikTok</a></li>
                </ul>
            </div>

            <!-- Columna 4: Newsletter (con bootstrap) -->
            <div class="footer__column footer__newsletter">
                <h4 class="footer__title">Newsletter</h4>
                <p class="footer__text">
                    Suscríbete para recibir noticias sobre nuevos productos, colaboraciones
                    y drops exclusivos.
                </p>

                <form id="newsletter-form" class="row g-2" action="#" method="post">
                    <div class="col-12 col-md-8">
                        <input
                            type="email"
                            class="form-control"
                            name="email"
                            placeholder="Tu email"
                            required
                        >
                    </div>
                    <div class="col-12 col-md-4">
                    <button type="submit" class="btn btn-outline-light w-100">
                      Suscribirme
                    </button>
                    </div>
                </form>

                <small class="footer__note">
                    Al suscribirte aceptas nuestra <a href="#">política de privacidad</a>.
                </small>
            </div>
        </div>

        <div class="footer__bottom">
            <p>© 2025 Gustaf Westman. All rights reserved.</p>
            <div class="footer__legal">
                <a href="#">Privacy Policy</a>
                <span>·</span>
                <a href="#">Terms & Conditions</a>
                <span>·</span>
                <a href="#">Cookies</a>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"></script>

    <!-- MODAL: Suscripción exitosa -->
    <div class="modal fade" id="newsletterSuccessModal" tabindex="-1" aria-labelledby="newsletterSuccessLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">

          <div class="modal-header">
            <h1 class="modal-title fs-5" id="newsletterSuccessLabel">¡Suscripción exitosa!</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body">
            Te has suscrito correctamente al newsletter.  
            ¡Gracias por unirte a nuestra comunidad!
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
          </div>

        </div>
      </div>
    </div>

    <!-- Lenis JS -->
    <script src="https://unpkg.com/lenis@1.3.15/dist/lenis.min.js"></script>

    <!-- JS general del sitio -->
    <script src="js-paula/script.js"></script>

    <!-- SMOOTH SCROLL CON LENIS (para toda la página y anchors #) -->
    <script>
      const lenis = new Lenis({
        lerp: 0.12,
        smoothWheel: true,
        smoothTouch: false
      });

      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);

      // Enlaces internos con scroll suave (incluye #cart)
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", (e) => {
          const targetId = anchor.getAttribute("href");
          const targetEl = document.querySelector(targetId);

          if (!targetEl) return; // si no existe, dejamos que haga lo normal

          e.preventDefault();
          lenis.scrollTo(targetEl, {
            offset: -80   // compensa el header/nav
          });
        });
      });
    </script>

    <button id="scrollToTopBtn" 
            class="btn btn-dark rounded-circle shadow-lg position-fixed d-flex align-items-center justify-content-center hide"
            style="width: 60px; height: 60px; bottom: 25px; right: 25px; z-index: 999; opacity: 0; visibility: hidden; transition: 0.3s;">
        
        <i class="bx bx-up-arrow-alt" style="font-size: 28px;"></i>

        <span id="scrollToTopBadge" 
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
              style="font-size: 14px; padding: 6px 8px;">
          0
        </span>
    </button>

</body>
</html>
